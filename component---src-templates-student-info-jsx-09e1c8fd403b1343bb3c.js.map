{"version":3,"file":"component---src-templates-student-info-jsx-09e1c8fd403b1343bb3c.js","mappings":"2MAGA,MAAMA,EAAiBC,IAElB,GAAKC,SAASD,IAAME,SAAS,EAAG,KACjC,KACC,GAAKD,SAAgB,IAAND,EAAa,MAAME,SAAS,EAAG,KAIpC,SAASC,EAAY,GAAW,IAAX,KAAEC,GAAM,EAC1C,MAAMC,EAAUD,EAAKE,SAASC,cACxBC,EAAUH,EAAQI,gBAClBC,EAAUL,EAAQK,QAClBC,EAAWN,EAAQM,SAGzB,OAFAC,QAAQC,IAAIR,GAGV,gCACE,uBACES,IAAKN,EAAaO,8BAAmCP,EAAQQ,GAAO,GACpEC,MAAO,CAAEC,UAAW,SACpBC,MAAM,MACNC,OAAO,QAET,2BACE,2BAAK,SAAOf,EAAQgB,QACpB,2BAAK,SAAOhB,EAAQiB,MACpB,2BAAK,WAASjB,EAAQkB,QACtB,2BAAK,QAAMlB,EAAQmB,SACnB,2BAAK,YAAUnB,EAAQoB,aACvB,2BAAK,kBAAgBpB,EAAQqB,cAC7B,2BAAK,UAAQrB,EAAQsB,QAEvB,2BACE,2BACE,yBAAG,qBAEJjB,GACC,uBAAKO,MAAO,CAAEW,QAAS,OAAQC,WAAY,WACzC,uBACEf,IACEJ,EAAQD,gBACDM,8BAAmCL,EAAQD,gBAAgBO,GAC9D,GAENC,MAAO,CAAEC,UAAW,SACpBC,MAAM,KACNC,OAAO,OAET,gBAAC,KAAI,CAACU,GAAE,YAAcpB,EAAQM,GAAMC,MAAO,CAAEc,WAAY,IACtDrB,EAAQY,QAKjB,2BACE,2BACE,yBAAG,wBAEL,2BACGU,MAAMC,KAAKtB,GAAUuB,KAAI,CAACC,EAASC,IAEhCD,EAAQE,YACN,uBAAKC,IAAKF,GACR,2BACE,gBAAC,KAAI,CAACN,GAAE,YAAcK,EAAQE,WAAWA,YACtCF,EAAQE,WAAWA,WAAW,KAAG,IACjCF,EAAQE,WAAWE,cAEtB,4BAAM,cAAYJ,EAAQE,WAAWG,UAEvC,2BACE,yBAAG,SAEL,2BACGR,MAAMC,KAAKE,EAAQE,WAAWI,aAAaP,KAC1C,CAACQ,EAAMN,IAEHM,EAAKC,eACH,uBAAKL,IAAKF,GAAO,KACZM,EAAKC,cAAcC,IAAK,IAC1B7C,EAAc2C,EAAKC,cAAcE,YAAY,KAAG,IAChD9C,EAAc2C,EAAKC,cAAcG,UAAU,eAe1E,CAEO,MAAMC,EAAO,QAAC,KAAE3C,GAAM,SAC3B,6BAAQA,EAAKE,SAASC,cAAce,KAAa,GAGtC,MAAE0B,GAAO,Y","sources":["webpack://gatsby-ssg/./src/templates/student-info.jsx"],"sourcesContent":["import * as React from 'react'\nimport { Link, graphql } from 'gatsby'\n\nconst toClockFormat = (num) => {\n  return (\n    ('' + parseInt(num)).padStart(2, '0') +\n    ':' +\n    ('' + parseInt((num * 100) % 100)).padStart(2, '0')\n  )\n}\n\nexport default function StudentInfo({ data }) {\n  const student = data.directus.student_by_id\n  const profile = student.profile_picture\n  const advisor = student.advisor\n  const subjects = student.subjects\n  console.log(student)\n\n  return (\n    <>\n      <img\n        src={profile ? `${process.env.DIRECTUS_URL}/assets/${profile.id}` : ''}\n        style={{ objectFit: 'cover' }}\n        width='128'\n        height='128'\n      />\n      <div>\n        <div>รหัส: {student.std_id}</div>\n        <div>ชื่อ: {student.name}</div>\n        <div>ชั้นปี: {student.degree}</div>\n        <div>คณะ: {student.faculty}</div>\n        <div>ภาควิชา: {student.sub_faculty}</div>\n        <div>เบอร์โทรศัพท์: {student.phone_number}</div>\n        <div>อีเมล: {student.email}</div>\n      </div>\n      <div>\n        <div>\n          <b>อาจารย์ที่ปรึกษา</b>\n        </div>\n        {advisor && (\n          <div style={{ display: 'flex', alignItems: 'center' }}>\n            <img\n              src={\n                advisor.profile_picture\n                  ? `${process.env.DIRECTUS_URL}/assets/${advisor.profile_picture.id}`\n                  : ''\n              }\n              style={{ objectFit: 'cover' }}\n              width='24'\n              height='24'\n            />\n            <Link to={`/teacher/${advisor.id}`} style={{ marginLeft: 5 }}>\n              {advisor.name}\n            </Link>\n          </div>\n        )}\n      </div>\n      <div>\n        <div>\n          <b>รายวิชาที่ลงทะเบียน</b>\n        </div>\n        <div>\n          {Array.from(subjects).map((subject, index) => {\n            return (\n              subject.subject_id && (\n                <div key={index}>\n                  <div>\n                    <Link to={`/subject/${subject.subject_id.subject_id}`}>\n                      {subject.subject_id.subject_id} -{' '}\n                      {subject.subject_id.subject_name}\n                    </Link>\n                    <span> : Section {subject.subject_id.section}</span>\n                  </div>\n                  <div>\n                    <u>เวลา</u>\n                  </div>\n                  <div>\n                    {Array.from(subject.subject_id.study_times).map(\n                      (time, index) => {\n                        return (\n                          time.study_time_id && (\n                            <div key={index}>\n                              + {time.study_time_id.day}{' '}\n                              {toClockFormat(time.study_time_id.start_hour)} -{' '}\n                              {toClockFormat(time.study_time_id.end_hour)} น.\n                            </div>\n                          )\n                        )\n                      }\n                    )}\n                  </div>\n                </div>\n              )\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport const Head = ({ data }) => (\n  <title>{data.directus.student_by_id.name}</title>\n)\n\nexport const { query } = graphql`\n  query ($id: ID!) {\n    directus {\n      student_by_id(id: $id) {\n        name\n        std_id\n        sub_faculty\n        phone_number\n        faculty\n        email\n        degree\n        profile_picture {\n          id\n        }\n        subjects {\n          subject_id {\n            section\n            subject_id\n            subject_name\n            study_times {\n              study_time_id {\n                start_hour\n                end_hour\n                day\n              }\n            }\n          }\n        }\n        advisor {\n          name\n          id\n          profile_picture {\n            id\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["toClockFormat","num","parseInt","padStart","StudentInfo","data","student","directus","student_by_id","profile","profile_picture","advisor","subjects","console","log","src","process","id","style","objectFit","width","height","std_id","name","degree","faculty","sub_faculty","phone_number","email","display","alignItems","to","marginLeft","Array","from","map","subject","index","subject_id","key","subject_name","section","study_times","time","study_time_id","day","start_hour","end_hour","Head","query"],"sourceRoot":""}