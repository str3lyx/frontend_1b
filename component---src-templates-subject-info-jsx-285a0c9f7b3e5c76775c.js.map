{"version":3,"file":"component---src-templates-subject-info-jsx-285a0c9f7b3e5c76775c.js","mappings":"4MAGA,MAAMA,EAAiBC,IAElB,GAAKC,SAASD,IAAME,SAAS,EAAG,KACjC,KACC,GAAKD,SAAgB,IAAND,EAAa,MAAME,SAAS,EAAG,KAIpC,SAASC,EAAY,GAAW,IAAX,KAAEC,GAAM,EAC1C,MAAMC,EAAWD,EAAKE,SAASC,QAE/B,OADAC,QAAQC,IAAIJ,GAEV,gCACE,0BACGA,EAAS,GAAGK,WAAW,MAAIL,EAAS,GAAGM,cAE1C,2BACGN,EAASO,KAAI,CAACL,EAASM,IAEpBN,GACE,uBAAKO,IAAKD,GACR,2BACE,yBAAG,WAASN,EAAQQ,UAEtB,2BACE,yBAAG,SAEL,2BACGC,MAAMC,KAAKV,EAAQW,aAAaN,KAAI,CAACO,EAAMN,IAExCM,GACE,uBAAKL,IAAKD,GAAO,KACZM,EAAKC,cAAcC,IAAK,IAC1BtB,EAAcoB,EAAKC,cAAcE,YAAY,KAAG,IAChDvB,EAAcoB,EAAKC,cAAcG,UAAU,UAMtD,2BACE,yBAAG,kBAEL,2BACGP,MAAMC,KAAKV,EAAQiB,UAAUZ,KAAI,CAACa,EAAYZ,KAC7C,MAAMa,EAAUD,EAAWA,WAC3B,OACEC,GACE,uBACEZ,IAAKD,EACLc,MAAO,CACLC,QAAS,OACTC,WAAY,WAGd,uBACEC,IACEJ,EAAQK,gBACDC,8BAAmCN,EAAQK,gBAAgBE,GAC9D,GAENN,MAAO,CAAEO,UAAW,SACpBC,MAAM,KACNC,OAAO,OAET,gBAAC,KAAI,CACHC,GAAE,YAAcX,EAAQO,GACxBN,MAAO,CAAEW,WAAY,IAEpBZ,EAAQa,MAGd,KAIP,2BACE,yBAAG,yBAEL,2BACGvB,MAAMC,KAAKV,EAAQiC,UAAU5B,KAAI,CAAC6B,EAAY5B,KAC7C,MAAM6B,EAAUD,EAAWE,eAC3B,OACED,GACE,uBACE5B,IAAKD,EACLc,MAAO,CACLC,QAAS,OACTC,WAAY,WAGd,uBACEC,IACEY,EAAQX,gBACDC,8BAAmCU,EAAQX,gBAAgBE,GAC9D,GAENN,MAAO,CAAEO,UAAW,SACpBC,MAAM,KACNC,OAAO,OAET,gBAAC,KAAI,CACHC,GAAE,YAAcK,EAAQE,OACxBjB,MAAO,CAAEW,WAAY,IAEpBI,EAAQE,OAAO,MAAIF,EAAQH,MAGjC,SAWvB,CAEO,MAAMM,EAAO,QAAC,KAAEzC,GAAM,SAC3B,6BAAQA,EAAKE,SAASC,QAAQ,GAAGG,WAAmB,GAGzC,MAAEoC,GAAO,Y","sources":["webpack://gatsby-ssg/./src/templates/subject-info.jsx"],"sourcesContent":["import * as React from 'react'\nimport { Link, graphql } from 'gatsby'\n\nconst toClockFormat = (num) => {\n  return (\n    ('' + parseInt(num)).padStart(2, '0') +\n    ':' +\n    ('' + parseInt((num * 100) % 100)).padStart(2, '0')\n  )\n}\n\nexport default function SubjectInfo({ data }) {\n  const subjects = data.directus.subject\n  console.log(subjects)\n  return (\n    <>\n      <h2>\n        {subjects[0].subject_id} - {subjects[0].subject_name}\n      </h2>\n      <div>\n        {subjects.map((subject, index) => {\n          return (\n            subject && (\n              <div key={index}>\n                <div>\n                  <b>Section {subject.section}</b>\n                </div>\n                <div>\n                  <u>เวลา</u>\n                </div>\n                <div>\n                  {Array.from(subject.study_times).map((time, index) => {\n                    return (\n                      time && (\n                        <div key={index}>\n                          + {time.study_time_id.day}{' '}\n                          {toClockFormat(time.study_time_id.start_hour)} -{' '}\n                          {toClockFormat(time.study_time_id.end_hour)} น.\n                        </div>\n                      )\n                    )\n                  })}\n                </div>\n                <div>\n                  <u>อาจารย์ผู้สอน</u>\n                </div>\n                <div>\n                  {Array.from(subject.teachers).map((teacher_id, index) => {\n                    const teacher = teacher_id.teacher_id\n                    return (\n                      teacher && (\n                        <div\n                          key={index}\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                          }}\n                        >\n                          <img\n                            src={\n                              teacher.profile_picture\n                                ? `${process.env.DIRECTUS_URL}/assets/${teacher.profile_picture.id}`\n                                : ''\n                            }\n                            style={{ objectFit: 'cover' }}\n                            width='24'\n                            height='24'\n                          />\n                          <Link\n                            to={`/teacher/${teacher.id}`}\n                            style={{ marginLeft: 5 }}\n                          >\n                            {teacher.name}\n                          </Link>\n                        </div>\n                      )\n                    )\n                  })}\n                </div>\n                <div>\n                  <u>นักศึกษาที่ลงทะเบียน</u>\n                </div>\n                <div>\n                  {Array.from(subject.students).map((student_id, index) => {\n                    const student = student_id.student_std_id\n                    return (\n                      student && (\n                        <div\n                          key={index}\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                          }}\n                        >\n                          <img\n                            src={\n                              student.profile_picture\n                                ? `${process.env.DIRECTUS_URL}/assets/${student.profile_picture.id}`\n                                : ''\n                            }\n                            style={{ objectFit: 'cover' }}\n                            width='24'\n                            height='24'\n                          />\n                          <Link\n                            to={`/student/${student.std_id}`}\n                            style={{ marginLeft: 5 }}\n                          >\n                            {student.std_id} - {student.name}\n                          </Link>\n                        </div>\n                      )\n                    )\n                  })}\n                </div>\n              </div>\n            )\n          )\n        })}\n      </div>\n    </>\n  )\n}\n\nexport const Head = ({ data }) => (\n  <title>{data.directus.subject[0].subject_id}</title>\n)\n\nexport const { query } = graphql`\n  query ($id: String) {\n    directus {\n      subject(filter: { subject_id: { _eq: $id } }) {\n        section\n        subject_id\n        subject_name\n        teachers {\n          teacher_id {\n            name\n            id\n            profile_picture {\n              id\n            }\n          }\n        }\n        students {\n          student_std_id {\n            name\n            std_id\n            profile_picture {\n              id\n            }\n          }\n        }\n        study_times {\n          study_time_id {\n            end_hour\n            start_hour\n            day\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["toClockFormat","num","parseInt","padStart","SubjectInfo","data","subjects","directus","subject","console","log","subject_id","subject_name","map","index","key","section","Array","from","study_times","time","study_time_id","day","start_hour","end_hour","teachers","teacher_id","teacher","style","display","alignItems","src","profile_picture","process","id","objectFit","width","height","to","marginLeft","name","students","student_id","student","student_std_id","std_id","Head","query"],"sourceRoot":""}