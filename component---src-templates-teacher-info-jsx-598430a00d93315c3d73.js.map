{"version":3,"file":"component---src-templates-teacher-info-jsx-598430a00d93315c3d73.js","mappings":"4MAGA,MAAMA,EAAiBC,IAElB,GAAKC,SAASD,IAAME,SAAS,EAAG,KACjC,KACC,GAAKD,SAAgB,IAAND,EAAa,MAAME,SAAS,EAAG,KAIpC,SAASC,EAAY,GAAW,IAAX,KAAEC,GAAM,EAC1C,MAAMC,EAAUD,EAAKE,SAASC,cACxBC,EAAUH,EAAQI,gBAClBC,EAAWL,EAAQK,SACnBC,EAAWN,EAAQM,SAEzB,OACE,gCACE,uBACEC,IAAKJ,EAAaK,8BAAmCL,EAAQM,GAAO,GACpEC,MAAO,CAAEC,UAAW,SACpBC,MAAM,MACNC,OAAO,QAET,2BACE,2BAAK,SAAOb,EAAQc,MACpB,2BAAK,QAAMd,EAAQe,SACnB,2BAAK,YAAUf,EAAQgB,aACvB,2BAAK,kBAAgBhB,EAAQiB,cAC7B,2BAAK,UAAQjB,EAAQkB,QAEvB,2BACE,2BACE,yBAAG,aAEJC,MAAMC,KAAKf,GAAUgB,KAAI,CAACC,EAASC,KAClC,MAAMpB,EAAUmB,EAAQlB,gBACxB,OACE,uBACEoB,IAAKD,EACLb,MAAO,CACLe,QAAS,OACTC,WAAY,WAGd,uBACEnB,IACEJ,EACOK,8BAAmCL,EAAQM,GAC9C,GAENC,MAAO,CAAEC,UAAW,SACpBC,MAAM,KACNC,OAAO,OAET,gBAAC,KAAI,CAACc,GAAE,YAAcL,EAAQM,OAAUlB,MAAO,CAAEmB,WAAY,IAC1DP,EAAQM,OAAO,MAAIN,EAAQR,MAE1B,KAIZ,2BACE,2BACE,yBAAG,kBAEL,2BACGK,MAAMC,KAAKd,GAAUe,KAAI,CAACS,EAASP,IAEhCO,EAAQC,YACN,uBAAKP,IAAKD,GACR,2BACE,gBAAC,KAAI,CAACI,GAAE,YAAcG,EAAQC,WAAWA,YACtCD,EAAQC,WAAWA,WAAW,KAAG,IACjCD,EAAQC,WAAWC,cAEtB,4BAAM,cAAYF,EAAQC,WAAWE,UAEvC,2BACE,yBAAG,SAEL,2BACGd,MAAMC,KAAKU,EAAQC,WAAWG,aAAab,KAC1C,CAACc,EAAMZ,IAEHY,EAAKC,eACH,uBAAKZ,IAAKD,GAAO,KACZY,EAAKC,cAAcC,IAAK,IAC1B3C,EAAcyC,EAAKC,cAAcE,YAAY,KAAG,IAChD5C,EAAcyC,EAAKC,cAAcG,UAAU,eAe1E,CAEO,MAAMC,EAAO,QAAC,KAAEzC,GAAM,SAC3B,6BAAQA,EAAKE,SAASC,cAAcY,KAAa,GAGtC,MAAE2B,GAAO,Y","sources":["webpack://gatsby-ssg/./src/templates/teacher-info.jsx"],"sourcesContent":["import * as React from 'react'\nimport { Link, graphql } from 'gatsby'\n\nconst toClockFormat = (num) => {\n  return (\n    ('' + parseInt(num)).padStart(2, '0') +\n    ':' +\n    ('' + parseInt((num * 100) % 100)).padStart(2, '0')\n  )\n}\n\nexport default function TeacherInfo({ data }) {\n  const teacher = data.directus.teacher_by_id\n  const profile = teacher.profile_picture\n  const students = teacher.students\n  const subjects = teacher.subjects\n\n  return (\n    <>\n      <img\n        src={profile ? `${process.env.DIRECTUS_URL}/assets/${profile.id}` : ''}\n        style={{ objectFit: 'cover' }}\n        width='128'\n        height='128'\n      />\n      <div>\n        <div>ชื่อ: {teacher.name}</div>\n        <div>คณะ: {teacher.faculty}</div>\n        <div>ภาควิชา: {teacher.sub_faculty}</div>\n        <div>เบอร์โทรศัพท์: {teacher.phone_number}</div>\n        <div>อีเมล: {teacher.email}</div>\n      </div>\n      <div>\n        <div>\n          <b>นักศึกษา</b>\n        </div>\n        {Array.from(students).map((student, index) => {\n          const profile = student.profile_picture\n          return (\n            <div\n              key={index}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n              }}\n            >\n              <img\n                src={\n                  profile\n                    ? `${process.env.DIRECTUS_URL}/assets/${profile.id}`\n                    : ''\n                }\n                style={{ objectFit: 'cover' }}\n                width='24'\n                height='24'\n              />\n              <Link to={`/student/${student.std_id}`} style={{ marginLeft: 5 }}>\n                {student.std_id} - {student.name}\n              </Link>\n            </div>\n          )\n        })}\n      </div>\n      <div>\n        <div>\n          <b>รายวิชาที่สอน</b>\n        </div>\n        <div>\n          {Array.from(subjects).map((subject, index) => {\n            return (\n              subject.subject_id && (\n                <div key={index}>\n                  <div>\n                    <Link to={`/subject/${subject.subject_id.subject_id}`}>\n                      {subject.subject_id.subject_id} -{' '}\n                      {subject.subject_id.subject_name}\n                    </Link>\n                    <span> : Section {subject.subject_id.section}</span>\n                  </div>\n                  <div>\n                    <u>เวลา</u>\n                  </div>\n                  <div>\n                    {Array.from(subject.subject_id.study_times).map(\n                      (time, index) => {\n                        return (\n                          time.study_time_id && (\n                            <div key={index}>\n                              + {time.study_time_id.day}{' '}\n                              {toClockFormat(time.study_time_id.start_hour)} -{' '}\n                              {toClockFormat(time.study_time_id.end_hour)} น.\n                            </div>\n                          )\n                        )\n                      }\n                    )}\n                  </div>\n                </div>\n              )\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport const Head = ({ data }) => (\n  <title>{data.directus.teacher_by_id.name}</title>\n)\n\nexport const { query } = graphql`\n  query ($id: ID!) {\n    directus {\n      teacher_by_id(id: $id) {\n        name\n        phone_number\n        sub_faculty\n        faculty\n        email\n        profile_picture {\n          id\n        }\n        students {\n          name\n          std_id\n          profile_picture {\n            id\n          }\n        }\n        subjects {\n          subject_id {\n            section\n            subject_id\n            subject_name\n            study_times {\n              study_time_id {\n                start_hour\n                end_hour\n                day\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["toClockFormat","num","parseInt","padStart","TeacherInfo","data","teacher","directus","teacher_by_id","profile","profile_picture","students","subjects","src","process","id","style","objectFit","width","height","name","faculty","sub_faculty","phone_number","email","Array","from","map","student","index","key","display","alignItems","to","std_id","marginLeft","subject","subject_id","subject_name","section","study_times","time","study_time_id","day","start_hour","end_hour","Head","query"],"sourceRoot":""}